
{% extends 'base.html' %}

{% load static %}

{% block td_nav %}
  <td style="padding: 0 10px;">
    <a href="/add/{{db}}">Add Collection</a>
  </td>
{% endblock %}

{% block h %}
  <h2>Collections of Database '{{db}}'</h2>
{% endblock %}

{% block content %}
  <table style="width: 100%;">
    <tr>
      <td id="c_aside">
        <aside style="padding: 10px">
          <table style="width: 100%;">
            {% if collections %}
              {% for collection in app_collections %}
                <tr>
                  <td style="width: 90%; text-align: left; padding: 0px 15px;">
                    <ul style="list-style-position: inside;">
                      <li><a href="/display/{{db}}/{{collection}}">{{collection}}</a></li>
                    </ul>
                  </td>
                  <td style="padding-right:10px;">
                    <form action="/update/{{db}}/{{collection}}" method="GET">
                      <button type="submit" class="img_button">
                        <img src="{% static 'icons/edit.ico' %}" 
                            alt="update" width="35px" height="35px">
                      </button>
                    </form>
                  </td>
                  <td style="padding-right:10px;">
                    <form action="/delete/{{db}}/{{collection}}" method="GET">
                      <button type="submit" class="img_button">
                        <img src="{% static 'icons/delete.ico' %}"
                            alt="delete" width="35px" height="35px">
                      </button>
                    </form>
                  </td>
                </tr>
              {% endfor %}
              {% for collection in not_app_collections %}
                <tr>
                  <td style="width: 90%; text-align: left; padding: 0px 15px;">
                    <ul style="list-style-position: inside;">
                      <li>
                        <a class="red" href="/display/{{db}}/{{collection}}">{{collection}}</a>
                      </li>
                    </ul>
                  </td>
                  <td style="padding-right:10px;">
                    <form action="/update/{{db}}/{{collection}}" method="GET">
                      <button type="submit" class="img_button">
                        <img src="{% static 'icons/edit.ico' %}" 
                            alt="update" width="35px" height="35px">
                      </button>
                    </form>
                  </td>
                  <td style="padding-right:10px;">
                    <form action="/delete/{{db}}/{{collection}}" method="GET">
                      <button type="submit" class="img_button">
                        <img src="{% static 'icons/delete.ico' %}"
                            alt="delete" width="35px" height="35px">
                      </button>
                    </form>
                  </td>
                </tr>
              {% endfor %}
            {% else %}
              <tr>
                <td>
                  <p>This database is empty, no collections available</p>
                </td>
              </tr>
            {% endif %}
          </table> 
        </aside>
      </td>
      <td id="c_section">
        <section style="padding: 10px">
          <p>Choose which collection should the app display</p> 
        </section>
      </td>
    </tr>
  </table>
{% endblock %}